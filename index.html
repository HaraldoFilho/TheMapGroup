<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
  <title>Group 'The Map Group' | Photos Map</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
#menu { position: absolute; background: #fff; padding: 10px;
font-family: 'Open Sans', sans-serif; cursor: default; }
</style>
</head>

<body>

<div id="map"></div>
<div id="menu">
<input id="streets-v11" type="radio" name="rtoggle" value="streets" checked="checked" />
<label for="streets-v11">streets</label>
<input id="outdoors-v11" type="radio" name="rtoggle" value="outdoors" />
<label for="outdoors-v11">outdoors</label>
<input id="satellite-v9" type="radio" name="rtoggle" value="satellite" />
<label for="satellite-v9">satellite</label>
</div>

<script>

    mapboxgl.accessToken = 'pk.eyJ1IjoiaGFyYWxkby1maWxobyIsImEiOiJja2Q0aGpzbm0wMWFuMnduMDFiZHhrdnNtIn0.UAiJqFUU6E02Kk7iwvO4Qw';
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [0, 30],
        zoom: 1.5
    });

    map.addControl(new mapboxgl.NavigationControl());

    var layerList = document.getElementById('menu');
    var inputs = layerList.getElementsByTagName('input');

    function switchLayer(layer) {
        var layerId = layer.target.id;
        map.setStyle('mapbox://styles/mapbox/' + layerId);
    }

    for (var i = 0; i < inputs.length; i++) {
        inputs[i].onclick = switchLayer;
    }

    var locations = getLocations();

    locations.forEach(addMarker);

    function addMarker(value) {
        new mapboxgl.Marker({color:'#C2185B',scale:0.7,draggable:false})
            .setLngLat(value[0])
            .setPopup(new mapboxgl.Popup({closeButton:false,maxWidth:'566px'}).setHTML(value[1]))
            .addTo(map);
    }

    function getLocations() {

        var locations = [
            [[-54.445484, -25.683609], "<a href=\"https://www.flickr.com/photos/30622510@N02/24436823545/in/pool-the-map-group/\" target=\"_blank\"><img src=\"https://live.staticflickr.com/1639/24436823545_83602b93e3_s.jpg\"/></a> "],
            [[-54.436676, -25.691076], "<a href=\"https://www.flickr.com/photos/30622510@N02/16046104942/in/pool-the-map-group/\" target=\"_blank\"><img src=\"https://live.staticflickr.com/65535/16046104942_d1d6662598_s.jpg\"/></a> "],
            [[-54.437663, -25.689781], "<a href=\"https://www.flickr.com/photos/30622510@N02/15984377511/in/pool-the-map-group/\" target=\"_blank\"><img src=\"https://live.staticflickr.com/65535/15984377511_629019d8a6_s.jpg\"/></a> "],
            [[-54.437298, -25.690187], "<a href=\"https://www.flickr.com/photos/30622510@N02/15858428837/in/pool-the-map-group/\" target=\"_blank\"><img src=\"https://live.staticflickr.com/65535/15858428837_87dc87afdb_s.jpg\"/></a> "],
            [[-54.586837, -25.413644], "<a href=\"https://www.flickr.com/photos/30622510@N02/15817420378/in/pool-the-map-group/\" target=\"_blank\"><img src=\"https://live.staticflickr.com/65535/15817420378_d332f6ceb9_s.jpg\"/></a> "],
            [[-54.442781, -25.684647], "<a href=\"https://www.flickr.com/photos/30622510@N02/15811692697/in/pool-the-map-group/\" target=\"_blank\"><img src=\"https://live.staticflickr.com/65535/15811692697_1d91d0487e_s.jpg\"/></a> "],
        ]

        return locations;

    }

</script>


</body>
</html>

